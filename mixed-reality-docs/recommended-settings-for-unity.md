---
title: 建议用于 Unity 的设置
description: Unity 提供一些特定于混合现实的行为，这些行为可通过项目设置进行切换。
author: troy-ferrell
ms.author: trferrel
ms.date: 03/26/2019
ms.topic: article
keywords: unity，设置，混合现实
ms.openlocfilehash: e7628a8653fffbab9c792161ac8ff1666b47fa62
ms.sourcegitcommit: f523b74a549721b6bec69cb5d2eca5b7673a793c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/30/2020
ms.locfileid: "85570323"
---
# <a name="recommended-settings-for-unity"></a><span data-ttu-id="a6dbd-104">建议用于 Unity 的设置</span><span class="sxs-lookup"><span data-stu-id="a6dbd-104">Recommended settings for Unity</span></span>

<span data-ttu-id="a6dbd-105">Unity 提供了一组默认选项，这些选项通常是所有平台的平均事例。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-105">Unity provides a set of default options that are generally the average case for all platforms.</span></span> <span data-ttu-id="a6dbd-106">但是，Unity 提供一些特定于混合现实的行为，这些行为可通过项目设置进行切换。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-106">However, Unity offers some behaviors specific to mixed reality that can be toggled through project settings.</span></span>

## <a name="performant-environment-set-up"></a><span data-ttu-id="a6dbd-107">设置高性能环境</span><span class="sxs-lookup"><span data-stu-id="a6dbd-107">Performant environment set-up</span></span>

### <a name="low-quality-settings"></a><span data-ttu-id="a6dbd-108">低质量设置</span><span class="sxs-lookup"><span data-stu-id="a6dbd-108">Low quality settings</span></span>

<span data-ttu-id="a6dbd-109">将环境的**Unity 质量设置**修改为**非常低**很重要。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-109">It is important to modify the **Unity Quality settings** for your environment to **Very Low**.</span></span> <span data-ttu-id="a6dbd-110">这将有助于确保应用程序在适当的帧速率下运行之前。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-110">This will help ensure your application is running performantly at the appropriate framerate.</span></span> <span data-ttu-id="a6dbd-111">这对于 HoloLens 开发极其重要。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-111">This is extremely significant for HoloLens development.</span></span> <span data-ttu-id="a6dbd-112">若要在沉浸式耳机上进行开发，根据桌面的规格来支持 VR 体验，仍可在没有最低质量参数的情况下实现帧速率。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-112">For development on immersive headsets, depending on the specs of the desktop powering the VR experience, one can still achieve framerate without the lowest quality parameters.</span></span>

<span data-ttu-id="a6dbd-113">在 Unity 2018 LTS + 中，可以通过以下方式设置项目的质量级别：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-113">In Unity 2018 LTS+, the project's quality level can be set by:</span></span>

<span data-ttu-id="a6dbd-114">在 "**编辑**  >  **项目设置**  >  **质量**>" 下，通过单击向下箭头到**非常低**质量级别来设置**默认值**</span><span class="sxs-lookup"><span data-stu-id="a6dbd-114">Under **Edit** > **Project Settings** > **Quality** > Set the **Default** by clicking on the downward arrow to the **Very Low** quality level</span></span>

### <a name="lighting-settings"></a><span data-ttu-id="a6dbd-115">照明设置</span><span class="sxs-lookup"><span data-stu-id="a6dbd-115">Lighting settings</span></span>

<span data-ttu-id="a6dbd-116">与质量场景设置相似，必须为混合现实应用程序设置最佳照明设置。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-116">Similar to Quality scene settings, it is important to set optimal Lighting settings for your Mixed Reality application.</span></span> <span data-ttu-id="a6dbd-117">在 Unity 中，通常会对场景产生最大性能影响的照明设置是**实时全局照明**。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-117">In Unity, the Lighting setting that will usually have the greatest performance impact on your scene is **Realtime Global Illumination**.</span></span> <span data-ttu-id="a6dbd-118">这可以通过以下方式关闭：在 "**窗口**  >  **渲染**  >  **照明**" "  >  **实时全局照明**" 下。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-118">This can be turned off by going under **Window** > **Rendering** > **Lighting Settings** > **Realtime Global Illumination**.</span></span>

<span data-ttu-id="a6dbd-119">还有另一个照明设置，**融入全局照明**。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-119">There is another lighting setting, **Baked Global Illumination**.</span></span> <span data-ttu-id="a6dbd-120">此设置可以提供沉浸式耳机上的高性能和直观的结果，但通常不适用于 HoloLens 开发。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-120">This setting can provide performant and visually striking results on immersive headsets but is generally not applicable for HoloLens development.</span></span> <span data-ttu-id="a6dbd-121">**融入 Global Illumniation**仅针对静态 gameobject 进行计算，这通常是由于未知和不断变化的环境的性质，而在 HoloLens 场景中找不到。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-121">**Baked Global Illumniation** is only calculated for static GameObjects which are generally not found in HoloLens scenes due to the nature of an unknown and changing environment.</span></span>

<span data-ttu-id="a6dbd-122">有关详细信息，请阅读[Unity 的全局照明](https://docs.unity3d.com/Manual/GIIntro.html)。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-122">Please read [Global Illumination from Unity](https://docs.unity3d.com/Manual/GIIntro.html) for more information.</span></span> 

>[!NOTE]
> <span data-ttu-id="a6dbd-123">**实时全局照明**是**根据场景**设置的，因此，开发人员必须为其项目中的每个 Unity 场景保存此属性。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-123">**Realtime Global Illumination** is set **per-scene** and thus developers must save this property for every Unity scene in their project.</span></span>

### <a name="single-pass-instancing-rendering-path"></a><span data-ttu-id="a6dbd-124">单步实例呈现路径</span><span class="sxs-lookup"><span data-stu-id="a6dbd-124">Single pass instancing rendering path</span></span>

<span data-ttu-id="a6dbd-125">在混合现实应用程序中，场景呈现两次，一次为用户提供一次。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-125">In Mixed Reality applications, the scene is rendered twice, once for each eye to the user.</span></span> <span data-ttu-id="a6dbd-126">与传统的3D 开发相比，这实际上会使需要计算的工作量加倍。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-126">Compared to traditional 3D development, this effectively doubles the amount of work that needs to be computed.</span></span> <span data-ttu-id="a6dbd-127">因此，请务必在 Unity 中选择最有效的呈现路径，以节省 CPU 和 GPU 时间。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-127">Thus, it is important to select the most efficient rendering path in Unity to save both on CPU and GPU time.</span></span> <span data-ttu-id="a6dbd-128">单个传递实例呈现为混合现实应用优化了 Unity 呈现管道，因此建议为每个项目默认启用此设置。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-128">Single pass instanced rendering optimizes the Unity rendering pipeline for Mixed Reality apps and thus it is recommended to enable this setting by default for every project.</span></span>

<span data-ttu-id="a6dbd-129">在 Unity 项目中启用此功能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-129">To enable this feature in your Unity Project</span></span>

1)  <span data-ttu-id="a6dbd-130">打开**播放机 XR 设置**（请参阅**编辑**  >  **项目设置**  >  **播放器**  >  **XR 设置**）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-130">Open **Player XR Settings** (go to **Edit** > **Project Settings** > **Player** > **XR Settings**)</span></span>
2) <span data-ttu-id="a6dbd-131">从 "**立体声呈现方法**" 下拉菜单中选择 "**单一传递实例**" （必须选中 "**支持虚拟现实**" 复选框）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-131">Select **Single Pass Instanced** from the **Stereo Rendering Method** drop-down menu (**Virtual Reality Supported** checkbox must be checked)</span></span>

<span data-ttu-id="a6dbd-132">有关此呈现方法的更多详细信息，请参阅 Unity 中的以下文章。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-132">Read the following articles from Unity for more details with this rendering approach.</span></span>

- [<span data-ttu-id="a6dbd-133">如何通过高级立体声呈现最大化 AR 和 VR 性能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-133">How to maximize AR and VR performance with advanced stereo rendering</span></span>](https://blogs.unity3d.com/2017/11/21/how-to-maximize-ar-and-vr-performance-with-advanced-stereo-rendering/)
- [<span data-ttu-id="a6dbd-134">单步实例</span><span class="sxs-lookup"><span data-stu-id="a6dbd-134">Single Pass Instancing</span></span>](https://docs.unity3d.com/Manual/SinglePassInstancing.html)

>[!NOTE]
> <span data-ttu-id="a6dbd-135">如果开发人员已有未为实例化编写的现有自定义着色器，则会出现单一传递实例呈现的一个常见问题。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-135">One common issue with Single Pass Instanced Rendering occurs if developers already have existing custom shaders not written for instancing.</span></span> <span data-ttu-id="a6dbd-136">启用此功能后，开发人员可能会注意到某些 Gameobject 只会在一眼中呈现。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-136">After enabling this feature, developers may notice some GameObjects only render in one eye.</span></span> <span data-ttu-id="a6dbd-137">这是因为关联的自定义着色器没有用于实例化的适当属性。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-137">This is because the associated custom shaders do not have the appropriate properties for instancing.</span></span>
>
> <span data-ttu-id="a6dbd-138">有关如何解决此问题的详细说明，请参阅针对基于 Unity 的[HoloLens 的单一传递立体声呈现](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html)</span><span class="sxs-lookup"><span data-stu-id="a6dbd-138">See [Single Pass Stereo Rendering for HoloLens](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html) from Unity for how to address this problem</span></span>

### <a name="enable-depth-buffer-sharing"></a><span data-ttu-id="a6dbd-139">启用深度缓冲共享</span><span class="sxs-lookup"><span data-stu-id="a6dbd-139">Enable depth buffer sharing</span></span>

<span data-ttu-id="a6dbd-140">若要从用户的感觉获得更好的全息图稳定性，建议启用 Unity 中的**深度缓冲区共享**属性。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-140">To achieve better hologram stability from the perception of the user, it is recommended to enable the **Depth Buffer Sharing** property in Unity.</span></span> <span data-ttu-id="a6dbd-141">通过启用，Unity 将使用 Windows Mixed Reality 平台共享你的应用程序生成的深度映射。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-141">By turning this on, Unity will share the depth map produced by your application with the Windows Mixed Reality platform.</span></span> <span data-ttu-id="a6dbd-142">然后，该平台将能够更好地针对应用程序呈现的任何给定帧，更好地为场景优化全息图稳定性。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-142">The platform will then be able to better optimize hologram stability specifically for your scene for any given frame being rendered by your application.</span></span>

<span data-ttu-id="a6dbd-143">在 Unity 项目中启用此功能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-143">To enable this feature in your Unity Project</span></span>

1) <span data-ttu-id="a6dbd-144">打开**播放机 XR 设置**（请参阅**编辑**  >  **项目设置**  >  **播放器**  >  **XR 设置**）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-144">Open **Player XR Settings** (go to **Edit** > **Project Settings** > **Player** > **XR Settings**)</span></span>
2) <span data-ttu-id="a6dbd-145">选中 "在**虚拟现实 sdk**Windows Mixed reality 扩展下**启用深度缓冲区共享**" 复选框  >  **Windows Mixed Reality** （必须选中 "**支持虚拟现实**" 复选框）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-145">Select the checkbox for **Enable Depth Buffer Sharing** under **Virtual Reality SDKs** > **Windows Mixed Reality** expansion (**Virtual Reality Supported** checkbox must be checked)</span></span>

<span data-ttu-id="a6dbd-146">此外，建议在此面板中的 "**深度格式**" 设置下选择 " **16 位深度**"，尤其是对于 HoloLens 开发。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-146">Further, it is recommended to select **16-bit depth** under the **Depth Format** setting in this panel, especially for HoloLens Development.</span></span> <span data-ttu-id="a6dbd-147">与24位相比，选择16位可显著减少带宽需求，因为需要移动/处理的数据量较少。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-147">Selecting 16-bit compared to 24-bit will significantly reduce the bandwidth requirements as less data will need to be moved/processed.</span></span>

<span data-ttu-id="a6dbd-148">为了使 Windows Mixed Reality 平台优化全息影像稳定性，它依赖于深度缓冲区来精确并匹配屏幕上呈现的所有全息影像。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-148">In order for the Windows Mixed Reality platform to optimize hologram stability, it relies on the depth buffer to be accurate and match any rendered holograms on screen.</span></span> <span data-ttu-id="a6dbd-149">因此，在上进行深度缓冲共享时，在呈现颜色时，这一点非常重要，也就是呈现深度。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-149">Thus, with depth buffer sharing on, it is important when rendering color, to also render depth.</span></span> <span data-ttu-id="a6dbd-150">在 Unity 中，大多数不透明或 TransparentCutout 的材料将默认呈现深度，但透明和文本对象通常不会呈现深度，尽管这是依赖于着色器等。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-150">In Unity, most Opaque or TransparentCutout materials will render depth by default but transparent and text objects will generally not render depth although this is shader dependent, etc.</span></span>

<span data-ttu-id="a6dbd-151">如果使用[混合现实工具包标准着色器](https://github.com/microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_MRTKStandardShader.md)来呈现透明对象的深度：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-151">If using the [Mixed Reality Toolkit Standard shader](https://github.com/microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_MRTKStandardShader.md), to render depth for transparent objects:</span></span>

1) <span data-ttu-id="a6dbd-152">选择使用 MRTK 标准着色器的透明材料，并打开检查器编辑器窗口</span><span class="sxs-lookup"><span data-stu-id="a6dbd-152">Select the transparent material that is using the MRTK Standard shader and open the Inspector editor window</span></span>
2) <span data-ttu-id="a6dbd-153">选择深度缓冲区共享警告中的 "**立即修复**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-153">Select the **Fix Now** button within the depth buffer sharing warning.</span></span> <span data-ttu-id="a6dbd-154">也可以通过将**呈现模式**设置为 "**自定义**" 来手动执行此方法。然后将**模式**设置为**透明**，最后将 "**深度写入**" 设置为 **"开"**</span><span class="sxs-lookup"><span data-stu-id="a6dbd-154">This can also be performed manually by setting the **Rendering Mode** to **Custom**; then set **Mode** to **Transparent** and finally set **Depth Write** to **On**</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a6dbd-155">在更改这些值时，开发人员应注意 Z 反击，同时还应注意相机的近/远平面设置。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-155">Developers should beware of Z-fighting when changing these values along with the camera's near/far plane settings.</span></span> <span data-ttu-id="a6dbd-156">当两个 gameobject 尝试呈现到相同的像素并由于深度缓冲区保真的限制（即</span><span class="sxs-lookup"><span data-stu-id="a6dbd-156">Z-Fighting occurs when two gameobjects try to render to the same pixel and due to limitations in fidelity of the depth buffer (i.e</span></span> <span data-ttu-id="a6dbd-157">z 深度），Unity 无法识别哪个对象位于另一个对象之前。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-157">z depth), Unity cannot discern which object is in front of the other.</span></span> <span data-ttu-id="a6dbd-158">开发人员将注意两个游戏对象之间的闪烁，因为它们会*抵抗*相同的 z 深度值。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-158">Developers will note a flickering between two game objects as they *fight* for the same z-depth value.</span></span> <span data-ttu-id="a6dbd-159">这可以通过切换到24位深度格式来解决，因为每个对象的值的范围都要根据其 z 深度从相机计算。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-159">This can be solved by switching to 24-bit depth format as there will be a larger range of values for each object to calculate upon for their z-depth from the camera.</span></span>
>
> <span data-ttu-id="a6dbd-160">不过，建议使用此方法，特别是在 HoloLens 开发环境中，可以改为将相机的近处和 far 面修改为较小的范围，并保留16位的深度格式。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-160">However, it is recommended, particularly for HoloLens development, to modify the camera's near and far planes to a smaller range instead and retain the 16-bit depth format.</span></span> <span data-ttu-id="a6dbd-161">Z 深度以非线性方式映射到沿近和远相机平面的值范围。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-161">The z-depth is non-linearly mapped to the range of values along the near and far camera planes.</span></span> <span data-ttu-id="a6dbd-162">可以通过选择场景中的*主相机*和**检查器**下的 "检查 **&** 器" 来修改此项</span><span class="sxs-lookup"><span data-stu-id="a6dbd-162">This can be modified by selecting the *Main Camera* in your scene and under **Inspector**, change the **Near & Far Clipping Plane** values to reduce their range (i.e</span></span> <span data-ttu-id="a6dbd-163">从1000m 到100m 或其他 x 值等）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-163">from 1000m to 100m or other x value, etc.)</span></span>

>[!IMPORTANT]
> <span data-ttu-id="a6dbd-164">使用16位深度格式时， [Unity 不会创建模具缓冲区](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html)。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-164">[Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) when using 16-bit depth format.</span></span> <span data-ttu-id="a6dbd-165">因此，除非选择了将创建[8 位模具缓冲区](https://docs.unity3d.com/Manual/SL-Stencil.html)的24位深度格式，否则某些 Unity UI 效果和其他模具所需的效果将无法工作。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-165">Thus, some Unity UI effects and other stencil-required effects will not work unless 24-bit depth format is selected which will create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html).</span></span>

### <a name="building-for-il2cpp"></a><span data-ttu-id="a6dbd-166">为 IL2CPP 生成</span><span class="sxs-lookup"><span data-stu-id="a6dbd-166">Building for IL2CPP</span></span>

<span data-ttu-id="a6dbd-167">Unity 已弃用 .NET 脚本编写后端的支持，因此建议开发人员使用**IL2CPP**来实现 UWP visual studio build。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-167">Unity has deprecated support for the .NET scripting backend and thus recommends that developers utilize **IL2CPP** for their UWP visual studio builds.</span></span> <span data-ttu-id="a6dbd-168">虽然这带来了不同的优点，但从 Unity for **IL2CPP**构建 visual studio 解决方案比旧的 .net 方法要慢得多。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-168">Although this brings various advantages, building your visual studio solution from Unity for **IL2CPP** can be significantly slower than the old .NET method.</span></span> <span data-ttu-id="a6dbd-169">因此，强烈建议遵循用于生成**IL2CPP**的最佳做法，以便在开发迭代时节省时间。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-169">Thus, it is highly recommended to follow best practices for building **IL2CPP** to save on development iteration time.</span></span>

1) <span data-ttu-id="a6dbd-170">每次将项目生成到同一个目录，以便在其中重复使用预先生成的文件，从而利用增量生成</span><span class="sxs-lookup"><span data-stu-id="a6dbd-170">Leverage incremental building by building your project to the same directory every time, re-using the pre-built files there</span></span>
2) <span data-ttu-id="a6dbd-171">禁用项目 & 生成文件夹的反恶意软件扫描</span><span class="sxs-lookup"><span data-stu-id="a6dbd-171">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="a6dbd-172">在 Windows 10 设置应用下打开**病毒 & 威胁防护**</span><span class="sxs-lookup"><span data-stu-id="a6dbd-172">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="a6dbd-173">选择 "安全 **& 威胁防护设置**" 下的 "**管理设置**"</span><span class="sxs-lookup"><span data-stu-id="a6dbd-173">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="a6dbd-174">选择 "**排除**" 部分下的 "**添加或删除排除**项"</span><span class="sxs-lookup"><span data-stu-id="a6dbd-174">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="a6dbd-175">单击 "**添加排除**"，然后选择包含 Unity 项目代码和生成输出的文件夹</span><span class="sxs-lookup"><span data-stu-id="a6dbd-175">Click **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="a6dbd-176">使用 SSD 进行生成</span><span class="sxs-lookup"><span data-stu-id="a6dbd-176">Utilize an SSD for building</span></span>

<span data-ttu-id="a6dbd-177">有关详细信息，请阅读[IL2CPP 优化生成时间](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-177">Please read [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span>

> [!NOTE]
> <span data-ttu-id="a6dbd-178">此外，设置[缓存服务器](https://docs.unity3d.com/Manual/CacheServer.html)可能会有所帮助，尤其是对于包含大量资产（不包括脚本文件）或不断变化的场景/资产的 Unity 项目而言。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-178">Furthermore, it may be beneficial to setup a [Cache Server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes/assets.</span></span> <span data-ttu-id="a6dbd-179">打开项目时，Unity 会在开发人员计算机上将符合条件的资产存储为内部缓存格式。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-179">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="a6dbd-180">必须重新导入项，因此，项在修改后会重新经过处理。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-180">Items must be re-imported and thus re-processed when modified.</span></span> <span data-ttu-id="a6dbd-181">此过程可以执行一次，结果可保存在缓存服务器，因此可与其他开发人员共享以节省时间，无需让每个开发人员在本地重新导入新的更改。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-181">This process can be done once and saved in a Cache Server and consequently shared with other developers to save time, instead of every developer processing the re-import of new changes locally.</span></span>

## <a name="publishing-properties"></a><span data-ttu-id="a6dbd-182">发布属性</span><span class="sxs-lookup"><span data-stu-id="a6dbd-182">Publishing properties</span></span>

### <a name="holographic-splash-screen"></a><span data-ttu-id="a6dbd-183">全息初始屏幕</span><span class="sxs-lookup"><span data-stu-id="a6dbd-183">Holographic splash screen</span></span>

<span data-ttu-id="a6dbd-184">HoloLens 具有移动类 CPU 和 GPU，这意味着可能需要更长的时间来加载应用。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-184">HoloLens has a mobile-class CPU and GPU, which means apps may take a bit longer to load.</span></span> <span data-ttu-id="a6dbd-185">在应用程序加载时，用户只会看到黑色，因此他们可能会想知道发生了什么情况。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-185">While the app is loading, users will just see black, and so they may wonder what's going on.</span></span> <span data-ttu-id="a6dbd-186">若要在加载过程中再次向它们，可添加全息初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-186">To reassure them during loading, you can add a holographic splash screen.</span></span>

<span data-ttu-id="a6dbd-187">若要切换全息初始屏幕：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-187">To toggle the holographic splash screen:</span></span>

1) <span data-ttu-id="a6dbd-188">中转到 "**编辑**  >  **项目设置**  >  **播放器**" 页面</span><span class="sxs-lookup"><span data-stu-id="a6dbd-188">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="a6dbd-189">单击 " **Windows 应用商店**" 选项卡并打开 "**初始图像**" 部分</span><span class="sxs-lookup"><span data-stu-id="a6dbd-189">Click the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="a6dbd-190">在 " **Windows 全息 > 全息闪屏" 映像**属性下应用所需的映像。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-190">Apply your desired image under the **Windows Holographic > Holographic Splash Image** property.</span></span>
    - <span data-ttu-id="a6dbd-191">切换 "**显示 Unity 初始屏幕**" 选项将启用或禁用 Unity 品牌初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-191">Toggling the **Show Unity Splash Screen** option will enable or disable the Unity branded splash screen.</span></span> <span data-ttu-id="a6dbd-192">如果没有 Unity Pro 许可证，则将始终显示 Unity 品牌初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-192">If you do not have a Unity Pro license, the Unity branded splash screen will always be displayed.</span></span>
    - <span data-ttu-id="a6dbd-193">如果应用了**全息初始映像**，无论是启用还是禁用了 "显示 Unity 初始屏幕" 复选框，它都将始终显示。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-193">If a **Holographic Splash Image** is applied, it will always be displayed regardless of whether the Show Unity Splash Screen checkbox is enabled or disabled.</span></span> <span data-ttu-id="a6dbd-194">只有具有 Unity Pro 许可证的开发人员才能指定自定义全息启动映像。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-194">Specifying a custom holographic splash image is only available to developers with a Unity Pro license.</span></span>

|  <span data-ttu-id="a6dbd-195">显示 Unity 初始屏幕</span><span class="sxs-lookup"><span data-stu-id="a6dbd-195">Show Unity Splash Screen</span></span>  |  <span data-ttu-id="a6dbd-196">全息闪屏映像</span><span class="sxs-lookup"><span data-stu-id="a6dbd-196">Holographic Splash Image</span></span>  |  <span data-ttu-id="a6dbd-197">行为</span><span class="sxs-lookup"><span data-stu-id="a6dbd-197">Behavior</span></span> |
|----------|----------|----------|
|  <span data-ttu-id="a6dbd-198">开</span><span class="sxs-lookup"><span data-stu-id="a6dbd-198">On</span></span>  |  <span data-ttu-id="a6dbd-199">None</span><span class="sxs-lookup"><span data-stu-id="a6dbd-199">None</span></span>  |  <span data-ttu-id="a6dbd-200">显示5秒的默认 Unity 初始屏幕或在加载应用之前，以较长者为准。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-200">Show default Unity splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |
|  <span data-ttu-id="a6dbd-201">开</span><span class="sxs-lookup"><span data-stu-id="a6dbd-201">On</span></span>  |  <span data-ttu-id="a6dbd-202">自定义</span><span class="sxs-lookup"><span data-stu-id="a6dbd-202">Custom</span></span>  |  <span data-ttu-id="a6dbd-203">显示自定义初始屏幕5秒或在加载应用之前，以较长者为准。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-203">Show Custom splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |
|  <span data-ttu-id="a6dbd-204">关闭</span><span class="sxs-lookup"><span data-stu-id="a6dbd-204">Off</span></span>  |  <span data-ttu-id="a6dbd-205">None</span><span class="sxs-lookup"><span data-stu-id="a6dbd-205">None</span></span>  |  <span data-ttu-id="a6dbd-206">在加载应用之前显示透明的黑色（无）。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-206">Show transparent black (nothing) until app is loaded.</span></span> |
|  <span data-ttu-id="a6dbd-207">关闭</span><span class="sxs-lookup"><span data-stu-id="a6dbd-207">Off</span></span>  |  <span data-ttu-id="a6dbd-208">自定义</span><span class="sxs-lookup"><span data-stu-id="a6dbd-208">Custom</span></span>  |  <span data-ttu-id="a6dbd-209">显示自定义初始屏幕5秒或在加载应用之前，以较长者为准。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-209">Show Custom splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |

<span data-ttu-id="a6dbd-210">有关详细信息，请阅读[Unity 初始屏幕文档](https://docs.unity3d.com/Manual/class-PlayerSettingsSplashScreen.html)。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-210">Please read [Unity's Splash Screen documentation](https://docs.unity3d.com/Manual/class-PlayerSettingsSplashScreen.html) for more info.</span></span>

### <a name="tracking-loss"></a><span data-ttu-id="a6dbd-211">失跟</span><span class="sxs-lookup"><span data-stu-id="a6dbd-211">Tracking loss</span></span>

<span data-ttu-id="a6dbd-212">混合现实耳机依赖于查看它周围的环境，以构建[全球锁定的坐标系](coordinate-systems-in-unity.md)，使全息影像保持在位置。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-212">A Mixed reality headset depends on seeing the environment around it to construct [world-locked coordinate systems](coordinate-systems-in-unity.md), which allow holograms to remain in position.</span></span> <span data-ttu-id="a6dbd-213">当耳机无法在世界各地定位时，耳机被称为*丢失跟踪*。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-213">When the headset is unable to locate itself in the world, the headset is said to have *lost tracking*.</span></span> <span data-ttu-id="a6dbd-214">在这些情况下，依赖于全球锁定坐标系的功能（如空间阶段、空间锚和空间映射）不起作用。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-214">In these cases, functionality dependent on world-locked coordinate systems, such as spatial stages, spatial anchors and spatial mapping, do not work.</span></span>

<span data-ttu-id="a6dbd-215">如果发生跟踪丢失，则 Unity 的默认行为是停止渲染全息影像，暂停[游戏循环](https://docs.unity3d.com/Manual/ExecutionOrder.html)，并显示一条跟踪丢失的通知，以使用户看起来更舒适。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-215">If a loss of tracking occurs, Unity's default behavior is to stop rendering holograms, pause the [game loop](https://docs.unity3d.com/Manual/ExecutionOrder.html), and display a tracking lost notification that comfortably follows the users gaze.</span></span> <span data-ttu-id="a6dbd-216">还可以以跟踪丢失图像的形式提供自定义通知。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-216">Custom notifications can also be provided in the form of a tracking loss image.</span></span> <span data-ttu-id="a6dbd-217">对于依赖于整个体验的跟踪的应用，足以让 Unity 完全处理此过程，直到重新获得跟踪。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-217">For apps that depend upon tracking for their whole experience, it's sufficient to let Unity handle this entirely until tracking is regained.</span></span> <span data-ttu-id="a6dbd-218">开发人员可以在跟踪丢失期间提供要显示的自定义图像。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-218">Developers can supply a custom image to be shown during tracking loss.</span></span>

<span data-ttu-id="a6dbd-219">自定义跟踪丢失映像：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-219">To customize the tracking lost image:</span></span>

1) <span data-ttu-id="a6dbd-220">中转到 "**编辑**  >  **项目设置**  >  **播放器**" 页面</span><span class="sxs-lookup"><span data-stu-id="a6dbd-220">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="a6dbd-221">单击 " **Windows 应用商店**" 选项卡，并打开 "**初始图像**" 部分</span><span class="sxs-lookup"><span data-stu-id="a6dbd-221">Click on the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="a6dbd-222">在 " **Windows 全息 > 跟踪丢失映像**" 属性下应用所需的映像。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-222">Apply your desired image under the **Windows Holographic > Tracking Loss Image** property.</span></span>

#### <a name="opt-out-of-automatic-pause"></a><span data-ttu-id="a6dbd-223">选择退出自动暂停</span><span class="sxs-lookup"><span data-stu-id="a6dbd-223">Opt-out of automatic pause</span></span>

<span data-ttu-id="a6dbd-224">某些应用程序可能不需要跟踪（例如，[仅限打印的应用程序](coordinate-systems-in-unity.md)，例如360度视频查看器），或在跟踪丢失时可能需要继续处理。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-224">Some apps may not require tracking (e.g. [orientation-only apps](coordinate-systems-in-unity.md) such as 360-degree video viewers) or may need to continue processing uninterrupted while tracking is lost.</span></span> <span data-ttu-id="a6dbd-225">在这些情况下，应用可以选择不丢失跟踪行为的默认值。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-225">In these cases, apps can opt out of the default loss of tracking behavior.</span></span> <span data-ttu-id="a6dbd-226">选择此项的开发人员负责隐藏/禁用任何不能在跟踪丢失方案中正确呈现的对象。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-226">Developers who choose this are responsible for hiding/disabling any objects which would not render properly in a tracking-loss scenario.</span></span> <span data-ttu-id="a6dbd-227">在大多数情况下，建议在这种情况下呈现的内容只是正文锁定的内容，并在主相机周围居中。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-227">In most cases, the only content that is recommended to be render in that case is body-locked content, centered around the main camera.</span></span>

<span data-ttu-id="a6dbd-228">选择退出自动暂停行为：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-228">To opt out of automatic pause behavior:</span></span>

1) <span data-ttu-id="a6dbd-229">请参阅**编辑**  >  **项目设置**  >  **播放器**页面</span><span class="sxs-lookup"><span data-stu-id="a6dbd-229">Go to the **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="a6dbd-230">单击 " **Windows 应用商店**" 选项卡并打开 "**初始图像**" 部分</span><span class="sxs-lookup"><span data-stu-id="a6dbd-230">Click the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="a6dbd-231">修改 "**跟踪丢失时暂停" 和 "显示图像**" 复选框中的 Windows 全息 >。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-231">Modify the **Windows Holographic > On Tracking Loss Pause and Show Image** checkbox.</span></span>

#### <a name="tracking-loss-events"></a><span data-ttu-id="a6dbd-232">跟踪丢失事件</span><span class="sxs-lookup"><span data-stu-id="a6dbd-232">Tracking loss events</span></span>

<span data-ttu-id="a6dbd-233">若要在跟踪丢失时定义自定义行为，请处理全局[跟踪丢失事件](tracking-loss-in-unity.md)。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-233">To define custom behavior when tracking is lost, handle the global [tracking loss events](tracking-loss-in-unity.md).</span></span>

### <a name="capabilities"></a><span data-ttu-id="a6dbd-234">功能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-234">Capabilities</span></span>

<span data-ttu-id="a6dbd-235">为了使应用程序能够利用特定功能，它必须在其清单中声明相应的功能。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-235">For an app to take advantage of certain functionality, it must declare the appropriate capabilities in its manifest.</span></span> <span data-ttu-id="a6dbd-236">清单声明可以在 Unity 中进行，因此它们包含在每个后续的项目导出中。</span><span class="sxs-lookup"><span data-stu-id="a6dbd-236">The manifest declarations can be made in Unity so they are included in every subsequent project export.</span></span>

<span data-ttu-id="a6dbd-237">可以通过以下方式为混合现实应用程序启用功能：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-237">Capabilities can be enabled for a Mixed Reality application by:</span></span>

1) <span data-ttu-id="a6dbd-238">中转到 "**编辑**  >  **项目设置**  >  **播放器**" 页面</span><span class="sxs-lookup"><span data-stu-id="a6dbd-238">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="a6dbd-239">单击 " **Windows 应用商店**" 选项卡，打开 "**发布设置**" 部分，并查找**功能**列表</span><span class="sxs-lookup"><span data-stu-id="a6dbd-239">Click the **Windows Store** tab, open the **Publishing Settings** section and look for the **Capabilities** list</span></span>

<span data-ttu-id="a6dbd-240">为全息应用启用常用 Api 的适用功能包括：</span><span class="sxs-lookup"><span data-stu-id="a6dbd-240">The applicable capabilities for enabling the commonly used APIs for Holographic apps are:</span></span>
<br>

|  <span data-ttu-id="a6dbd-241">功能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-241">Capability</span></span>  |  <span data-ttu-id="a6dbd-242">需要功能的 Api</span><span class="sxs-lookup"><span data-stu-id="a6dbd-242">APIs requiring capability</span></span> |
|----------|----------|
|  <span data-ttu-id="a6dbd-243">SpatialPerception</span><span class="sxs-lookup"><span data-stu-id="a6dbd-243">SpatialPerception</span></span>  |  <span data-ttu-id="a6dbd-244">SurfaceObserver</span><span class="sxs-lookup"><span data-stu-id="a6dbd-244">SurfaceObserver</span></span> |
|  <span data-ttu-id="a6dbd-245">网络摄像头</span><span class="sxs-lookup"><span data-stu-id="a6dbd-245">WebCam</span></span>  |  <span data-ttu-id="a6dbd-246">PhotoCapture 和 VideoCapture</span><span class="sxs-lookup"><span data-stu-id="a6dbd-246">PhotoCapture and VideoCapture</span></span> |
|  <span data-ttu-id="a6dbd-247">PicturesLibrary/VideosLibrary</span><span class="sxs-lookup"><span data-stu-id="a6dbd-247">PicturesLibrary / VideosLibrary</span></span>  |  <span data-ttu-id="a6dbd-248">PhotoCapture 或 VideoCapture （存储捕获的内容时）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-248">PhotoCapture or VideoCapture, respectively (when storing the captured content)</span></span> |
|  <span data-ttu-id="a6dbd-249">麦克风</span><span class="sxs-lookup"><span data-stu-id="a6dbd-249">Microphone</span></span>  |  <span data-ttu-id="a6dbd-250">VideoCapture （捕获音频时）、DictationRecognizer、GrammarRecognizer 和 KeywordRecognizer</span><span class="sxs-lookup"><span data-stu-id="a6dbd-250">VideoCapture (when capturing audio), DictationRecognizer, GrammarRecognizer, and KeywordRecognizer</span></span> |
|  <span data-ttu-id="a6dbd-251">InternetClient</span><span class="sxs-lookup"><span data-stu-id="a6dbd-251">InternetClient</span></span>  |  <span data-ttu-id="a6dbd-252">DictationRecognizer （和使用 Unity 探查器）</span><span class="sxs-lookup"><span data-stu-id="a6dbd-252">DictationRecognizer (and to use the Unity Profiler)</span></span> |

## <a name="see-also"></a><span data-ttu-id="a6dbd-253">请参阅</span><span class="sxs-lookup"><span data-stu-id="a6dbd-253">See also</span></span>

* [<span data-ttu-id="a6dbd-254">Unity 开发概述</span><span class="sxs-lookup"><span data-stu-id="a6dbd-254">Unity development overview</span></span>](unity-development-overview.md)
* [<span data-ttu-id="a6dbd-255">了解混合现实的性能</span><span class="sxs-lookup"><span data-stu-id="a6dbd-255">Understanding performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="a6dbd-256">针对 Unity 的性能建议</span><span class="sxs-lookup"><span data-stu-id="a6dbd-256">Performance recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
